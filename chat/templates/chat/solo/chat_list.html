{% load i18n %}

<div class="container">
  <div class="row">
    <div class="col-8">
        <h5>{{ symbols.chat|safe }} {% trans 'chat'|title %} {% trans 'overview' %}</h5>
    </div>
    <div class="col-4 d-md-flex justify-content-end">
        {% if user == request.user %}
          <a class="btn btn-link p-0 text-info" href="{% url 'chat_create' %}">
            <i class="fas fa-plus"></i> {% trans 'chat' %}
          </a>
        {% endif %}
    </div>
  </div>
  {% if chats %}
    <div class="row">
      <div class="col"><b>{% trans 'title'|title %}</b></div>
      <div class="col"><b>{% trans 'members'|title %}</b></div>
      <div class="col"><b>{% trans 'messages'|title %}</b></div>
      <div class="col"></div>
    </div>
  {% endif %}
  {% for chat in chats %}
    <div class="row border-top">
      <div class="col-8 col-md-4 order-1 order-md-1">{% include 'chat/inc/link.html' %}</div>
      <div class="col-10 col-md-4 order-3 order-md-2">{% for user in chat.users.all %}{% include 'user/inc/link.html' %}, {% endfor %}</div>
      <div class="col-1 col-md-2 order-4 order-md-3 d-flex justify-content-end">{{ chat.messages|length }}</div>
      <div class="col-4 col-md-2 order-2 order-md-4 d-flex justify-content-end">
        <a class="btn btn-link py-0" href="{% url 'chat_detail' chat.pk %}" title="{% trans 'detail' %}">{{ symbols.detail|safe }}</a>
      </div>
    </div>
  {% endfor %}
</div>
