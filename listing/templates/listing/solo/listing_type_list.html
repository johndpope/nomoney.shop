{% load humanize %}
{% load i18n %}
<div class="container-fluid">
  <div class="row">
    <div class="col-8">
        <h5>
          {% if type == 'push' %}
            {{ symbols.push|safe }} 
          {% elif type == 'pull' %}
            {{ symbols.pull|safe }} 
          {% endif %}
          {% if user == request.user %}
            {% trans '_your'|title %}
          {% else %}
            {{ user }}'s
          {% endif %}
          {% if type == 'push' %}
            {% trans 'offerings' %}
          {% elif type == 'pull' %}
            {% trans 'requests' %}
          {% endif %}
        </h5>
    </div>
    <div class="col-4 d-md-flex justify-content-end">
        {% if user == request.user %}
          <a class="btn p-0 text-info" href="{% url 'listing_create' type %}">
            <i class="fas fa-plus"></i> {% if type == 'push' %}{% trans 'offer' %}{% elif type == 'pull' %}{% trans 'seek' %}{% endif %}
          </a>
        {% endif %}
    </div>
  </div>
  <div class="row">
    <div class="col">
      <b>{% trans 'category'|title %}</b>
    </div>
    <div class="col">
      <b>{% trans 'title'|title %}</b>
    </div>
    <div class="col">
      <b>{% trans 'quantity'|title %}</b>
    </div>
    <div class="col">
      <b>{% trans 'modified'|title %}</b>
    </div>
    <div class="col d-flex justify-content-end">
      <b></b>
    </div>
  </div>
  {% for listing in listings %}
  <div class="row border-top">
    <div class="col">
      {% with category=listing.category %}{% include 'category/inc/link.html' %}{% endwith %}
    </div>
    <div class="col">
      {% with use_title=True %}{% include 'listing/inc/link.html' %}{% endwith %}
    </div>
    <div class="col">
      {{ listing.quantity }}{{ listing.unit.short }}
    </div>
    <div class="col" title="{{ listing.modified }}">
      {{ listing.modified|naturaltime }}
    </div>
    <div class="col d-flex justify-content-end" title="{{ listing.modified }}">
      {% if request.user == listing.user %}
        <a class="btn btn-link" href="{% url 'listing_delete' listing.type listing.pk %}" title="{% trans 'delete' %}">{{ symbols.delete|safe }}</a>
        <a class="btn btn-link" href="{% url 'listing_update' listing.type listing.pk %}" title="{% trans 'update' %}">{{ symbols.update|safe }}</a>
      {% endif %}
      <a class="btn btn-link" href="{% url 'listing_detail' listing.type listing.pk %}" title="{% trans 'detail' %}">{{ symbols.detail|safe }}</a>
    </div>
  </div>
  {% endfor %}
</div>
